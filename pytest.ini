[pytest]
# ReviewSignal 5.0 - Pytest Configuration

# Test discovery
python_files = test_*.py *_test.py
python_classes = Test* *Tests
python_functions = test_*

# Test paths
testpaths = tests

# Minimum Python version
minversion = 7.0

# Console output
addopts =
    # Verbose output
    -v
    # Show all test output
    -s
    # Show local variables in tracebacks
    -l
    # Strict markers (fail on unknown markers)
    --strict-markers
    # Warnings as errors (except DeprecationWarning)
    -W error
    -W ignore::DeprecationWarning
    # Show slowest 10 tests
    --durations=10

# Test markers
markers =
    unit: Unit tests (isolated, fast)
    integration: Integration tests (database, API)
    e2e: End-to-end tests (full workflow)
    slow: Slow tests (>1 second)
    load: Load tests (requires special setup)
    skip_ci: Skip in CI environment
    requires_api: Requires external API (Google Maps, Stripe)
    requires_db: Requires PostgreSQL database
    requires_redis: Requires Redis cache

# Asyncio mode
asyncio_mode = auto

# Log configuration
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Ignore warnings from third-party libraries
filterwarnings =
    ignore::DeprecationWarning:aioredis.*
    ignore::DeprecationWarning:google.*
    ignore::DeprecationWarning:stripe.*
